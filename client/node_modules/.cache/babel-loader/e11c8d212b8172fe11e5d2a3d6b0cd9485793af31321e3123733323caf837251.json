{"ast":null,"code":"//ReservationPage.js\nimport React,{useState}from'react';import Footer from'../footer/Footer';import'./ReservationPage.scss';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const ReservationPage=()=>{const initialReservationDetails={name:'',phone:'',numberOfGuests:'',dateTime:''};const[reservationDetails,setReservationDetails]=useState(initialReservationDetails);const handleInputChange=e=>{setReservationDetails({...reservationDetails,[e.target.name]:e.target.value});};const handleSubmit=async e=>{e.preventDefault();try{const response=await fetch('/api/reservation',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(reservationDetails)});if(!response.ok)throw new Error('Response not OK');alert(\"Reservation made successfully for \".concat(reservationDetails.dateTime));setReservationDetails(initialReservationDetails);// Reset the reservation details after successful submission\nwindow.location.reload();// This line reloads the page\n}catch(error){console.error('Failed to make reservation',error);alert('Reservation failed');}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"section\",{className:\"reservation-section\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Make a Reservation\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Name:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",value:reservationDetails.name,onChange:handleInputChange,required:true})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Phone:\",/*#__PURE__*/_jsx(\"input\",{type:\"tel\",name:\"phone\",value:reservationDetails.phone,onChange:handleInputChange,required:true})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Number of Guests:\",/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"numberOfGuests\",value:reservationDetails.numberOfGuests,onChange:handleInputChange,required:true})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Date and Time:\",/*#__PURE__*/_jsx(\"input\",{type:\"datetime-local\",name:\"dateTime\",value:reservationDetails.dateTime,onChange:handleInputChange,required:true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Submit\"})]})]}),/*#__PURE__*/_jsx(Footer,{})]});};export default ReservationPage;","map":{"version":3,"names":["React","useState","Footer","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ReservationPage","initialReservationDetails","name","phone","numberOfGuests","dateTime","reservationDetails","setReservationDetails","handleInputChange","e","target","value","handleSubmit","preventDefault","response","fetch","method","headers","body","JSON","stringify","ok","Error","alert","concat","window","location","reload","error","console","children","className","onSubmit","type","onChange","required"],"sources":["C:/Users/adamm/Desktop/capstone/my-restaurant-app/client/src/components/reservation/ReservationPage.js"],"sourcesContent":["//ReservationPage.js\r\nimport React, { useState } from 'react';\r\nimport Footer from '../footer/Footer';\r\nimport './ReservationPage.scss';  \r\n\r\nconst ReservationPage = () => {\r\n  const initialReservationDetails = {\r\n    name: '',\r\n    phone: '',\r\n    numberOfGuests: '',\r\n    dateTime: '',\r\n  };\r\n\r\n  const [reservationDetails, setReservationDetails] = useState(initialReservationDetails);\r\n\r\n  const handleInputChange = (e) => {\r\n    setReservationDetails({\r\n      ...reservationDetails,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const response = await fetch('/api/reservation', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(reservationDetails),\r\n      });\r\n      if (!response.ok) throw new Error('Response not OK');\r\n      alert(`Reservation made successfully for ${reservationDetails.dateTime}`);\r\n      setReservationDetails(initialReservationDetails); // Reset the reservation details after successful submission\r\n      window.location.reload(); // This line reloads the page\r\n    } catch (error) {\r\n      console.error('Failed to make reservation', error);\r\n      alert('Reservation failed');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <section className=\"reservation-section\">\r\n        <h2>Make a Reservation</h2>\r\n        <form onSubmit={handleSubmit}>\r\n          <label>\r\n            Name:\r\n            <input\r\n              type=\"text\"\r\n              name=\"name\"\r\n              value={reservationDetails.name}\r\n              onChange={handleInputChange}\r\n              required\r\n            />\r\n          </label>\r\n          <label>\r\n            Phone:\r\n            <input\r\n              type=\"tel\"\r\n              name=\"phone\"\r\n              value={reservationDetails.phone}\r\n              onChange={handleInputChange}\r\n              required\r\n            />\r\n          </label>\r\n          <label>\r\n            Number of Guests:\r\n            <input\r\n              type=\"number\"\r\n              name=\"numberOfGuests\"\r\n              value={reservationDetails.numberOfGuests}\r\n              onChange={handleInputChange}\r\n              required\r\n            />\r\n          </label>\r\n          <label>\r\n            Date and Time:\r\n            <input\r\n              type=\"datetime-local\"\r\n              name=\"dateTime\"\r\n              value={reservationDetails.dateTime}\r\n              onChange={handleInputChange}\r\n              required\r\n            />\r\n          </label>\r\n          <button type=\"submit\">Submit</button>\r\n        </form>\r\n      </section>\r\n      <Footer />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ReservationPage;\r\n\r\n\r\n\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}